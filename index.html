<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Naat Sharif PDF Viewer</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>

<style>
    body {
        font-family: Arial, sans-serif;
        background: linear-gradient(to bottom, #ffe5e5, #e6f7ff);
        margin: 0;
        padding: 0;
        text-align: center;
    }

    h1 {
        margin-top: 20px;
        color: #c40000;
        font-weight: bold;
    }

    #search {
        width: 60%;
        padding: 12px;
        margin: 20px auto;
        border-radius: 10px;
        border: 1px solid #aaa;
        font-size: 18px;
    }

    .naat-btn {
        width: 60%;
        background: #ffccb3;
        margin: 10px auto;
        padding: 15px;
        border-radius: 12px;
        font-size: 18px;
        cursor: pointer;
        transition: 0.3s;
    }

    .naat-btn:hover {
        background: #ffb380;
        transform: scale(1.03);
    }

    #pdf-viewer {
        width: 90%;
        height: 600px;
        margin: 20px auto;
        background: white;
        border-radius: 12px;
        box-shadow: 0 0 10px #999;
    }
</style>

</head>
<body>

<h1>Naat Sharif PDF Viewer</h1>

<input type="text" id="search" placeholder="Search Naat...">

<div id="naat-list"></div>

<canvas id="pdf-viewer"></canvas>

<script>
const pdfUrl = "https://raw.githubusercontent.com/MuzammalHussain07/Naat-sharif/main/NAATSHARIF25_merged.pdf";

// LIST OF YOUR NAATS WITH PAGE NUMBERS
const naats = [
    { title: "Salaam", page: 2 },
    { title: "Mera Dil Badal De", page: 5 },
    { title: "Ya Nabi Salam Alayka", page: 12 },
    { title: "Another Naat Example", page: 20 }
];

let pdfDoc = null;
const viewer = document.getElementById("pdf-viewer");
const naatList = document.getElementById("naat-list");

// LOAD PDF
pdfjsLib.getDocument(pdfUrl).promise.then(function(pdf) {
    pdfDoc = pdf;
    renderPage(1);
});

// RENDER PAGE
function renderPage(pageNum) {
    pdfDoc.getPage(pageNum).then(page => {
        const viewport = page.getViewport({ scale: 1.5 });
        viewer.height = viewport.height;
        viewer.width = viewport.width;

        const renderContext = {
            canvasContext: viewer.getContext("2d"),
            viewport: viewport
        };

        page.render(renderContext);
    });
}

// BUILD BUTTON LIST
function loadButtons(list) {
    naatList.innerHTML = "";
    list.forEach(n => {
        const btn = document.createElement("div");
        btn.className = "naat-btn";
        btn.innerText = n.title;
        btn.onclick = () => renderPage(n.page);
        naatList.appendChild(btn);
    });
}

loadButtons(naats);

// SEARCH
document.getElementById("search").addEventListener("keyup", function() {
    const text = this.value.toLowerCase();
    const filtered = naats.filter(n => n.title.toLowerCase().includes(text));
    loadButtons(filtered);
});
</script>

</body>
</html>
